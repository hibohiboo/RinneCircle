---
title: RinneCircle 開発室
description: Docs intro
layout: ../../layouts/MainLayout.astro
image:
  src: /RinneCircle/main.png
  alt: Rinne Circle Top Image
---

**開発室 にようこそ！**

[輪廻サークル](https://rinne.eisei-teien.ml/rinne-circle-builder/)に関連する開発ドキュメント一覧  
[github](https://github.com/hibohiboo/RinneCircle)

## イメージ図

<pre class="mermaid">
graph TD
A[シナリオ] --> B[ソロジャーナル]
B --> C[リプレイ]

</pre>

![](/RinneCircle/figma/play-image.png)

## TODO

### シナリオプレイ環境

- [ ] トップページ
- [ ] 選択できるシナリオ一覧
- [ ] セッションスタート
- [ ] セッションエンド
- [ ] イベントスタート
- [ ] イベントエンド
- [ ] ソロジャーナル記載
- [ ] 選択肢
- [ ] タグによる選択肢の表示 / 非表示
- [ ] タグの獲得 / 喪失
- [ ] 背景画像切替
- [ ] PC の名前設定
- [ ] PC の顔画像設定
- [ ] ログイン

### シナリオログビューア

- セッション一覧
- [ ] プレイイベントツリー
- [ ] シナリオの台詞表示
- [ ] ソロジャーナルの表示

### シナリオビルダー

- [x] トップページ
- [x] ログイン
- [ ] 自分のシナリオ作成
- [ ] 自分のシナリオ一覧
- [ ] 自分のシナリオ
- [ ] 他人のシナリオ一覧
- [ ] 他人のシナリオ詳細

---

## やりたいこと

まずは思いつく限りやりたいことを挙げる。

- TODO
  - [ ] 要求、要件、仕様にふるい分ける
  - [ ] やりたいことの優先順位を付ける

| 用語 | 定義                         |
| ---- | ---------------------------- |
| 要求 | こうしたい、こうありたい     |
| 要件 | 要求を実現するための条件     |
| 仕様 | 要件をみたすための詳細な条件 |

### キーワード

- ループ駆動紙芝居型ソロジャーナル
  - あの時、別の手札だったら
  - 背景とカードで作る紙芝居
  - 選択肢もカード
  - スキルもカード

### シナリオ作成

- ユーザはシナリオを作ることができる
- ユーザはシナリオを編集できる
- ユーザは自分のシナリオのみ編集できる
- ユーザは自分の作ったシナリオの一覧を確認できる
- ユーザは自分の作ったシナリオを公開できる
- ユーザは自分の作ったシナリオを非公開にできる
- ユーザは他人のシナリオを一覧で確認できる
- ユーザは他人のシナリオの詳細を確認できる
- ユーザは他人のシナリオをコピーして自分のシナリオにできる
  - ユーザは自分のシナリオをコピーされないようにできる
- ユーザはシナリオにイメージ画像を準備することができる

### シナリオ確認

- ユーザはシナリオを名前で検索できる
- ユーザはシナリオを新着順に確認できる
- ユーザは特定の作者のシナリオを確認できる
- ユーザは特定のタグをもったシナリオを検索できる
- ユーザはシナリオの統計情報を確認できる
  - プレイされた回数
  - 最終更新日
  - 付与されたタグ
    - シナリオ作者は確認できるタグを制限できる
    - 特定のタグを持ったキャラクターのユーザにしか確認できないタグを作ることができる

#### イベント作成

- シナリオ作者は特定のタグを持つキャラクターしか選べない選択肢を用意することができる
- シナリオ作者はキャラクターに特定のタグを付与することができる
  - タグをシナリオ外に持ち出せるか設定できる
  - タグをセッションごとにリセットできるか設定できる
  - タグをユーザから隠すことができる

### シナリオをプレイ

- ユーザは他人のシナリオをストックできる（後でやる、ブックマーク的機能）
- ユーザは自分のシナリオがストックされている数を知ることができる
- ユーザは同じシナリオを同じキャラクターで何度もプレイすることができる（ループ）

### セッション（シナリオをプレイする）

- ユーザは自分のキャラクターでシナリオを遊ぶことができる
  - シナリオ作者はセッションに参加するキャラクターに制限を設けることができる（2 話目は 1 話目を行ったキャラクターのみ可能など）
- ユーザはシナリオ中の行動結果を確認することができる （セッションログ）
- キャラクターはセッション中に状態が変化する
- キャラクターは前回のセッションからタグ（情報やアイテム）を持ち越せる
  - セッションごとにリセットされるタグもある（持ち越せない）
- ユーザが出来る行動は「カードを選択する」のみである

  - 惨劇 RoopeR からの着想。プレイヤーが盤面に干渉できるのは、基本的にカードを出す以外ない。
  - 選択肢もカードで表現される
  - その選択肢でのみ有効な「はい」「いいえ」などの一時的カードを渡され、選ぶ
    - キャラクターの所持するタグによって第 3 の選択肢カードを渡されることも
  - もともと持っているスキルカードから選ぶこともできる
    - タグで判断（カードワースのキーコードイベントをイメージ。 対応していなければ弾く。弾かれた後に、このカードに対応してくれと要望を出すことが可能（後述））
  - 一時的なカード、スキルカード、アイテムカードみたいに手札を切り替えて選ぶ画面とか
  - もう、会話の送りは全部「OK」カードを一時的に配布するでもいいかも

- ユーザはシナリオに新たな選択肢を追加する要望を出すことができる
  - シナリオ作者は追加された要望を反映したシナリオを更新することができる
  - ユーザは要望が追加されたことを知ることができる
  - ユーザは要望が追加されたシナリオを更新して、要望した選択肢を選ぶところからプレイを再開できる

### キャラクター作成

- ユーザはキャラクターを作成できる
- システム管理者はユーザが作成できるキャラクターに上限を設けることができる
  - システム管理者はユーザが作成できるキャラクター数をユーザごとに管理できる
  - システム管理者はユーザ
- ユーザはキャラクターにイラストを設定できる
  - ユーザはキャラクターのイラストを複数設定できる
  - セッション中に表示するイラストを切り替えることができる
  - 切り替えたイラストが反映されたログを読むことができる
- ユーザはキャラクター名を編集できる
  - 二つ名をつけることができる 。。。。 二つ名も名前の一部ですね。長い名前も入れられること。
- ユーザはキャラクター名にルビを振ることができる

### キャラクター確認

- ユーザはキャラクターが参加したシナリオを確認できる
- ユーザはキャラクターが所持しているタグを確認できる
  - シナリオ作者が隠しているタグは設定できない
- ユーザは他人のキャラクターを確認できる
  - ユーザは他人に見られないよう隠すことができる

### リプレイ

- ユーザは自分のセッションログを読むことができる
- ユーザは他人のセッションログを読むことができる
  - ユーザは他人に読まれないよう隠すことができる
- セッションログではシナリオに対するキャラクターのコメントや日記を残すことができる
  - そのときのキャラクターの立ち絵を表情付き残すことができる
- ユーザはセッションログを編集して読みやすいリプレイにすることができる
  - スチルを追加ができる
  - コメントの追記ができる
  - コメントの並び替えができる
  - コメントの削除ができる
  - ログをカットできる
  - 複数のセッションログを一つのリプレイとしてまとめることができる （数回のループを１つの読み物に）
- ユーザは他人のセッションログを検索できる
  - シナリオ名
  - プレイヤー名
  - キャラクター名
  - タグ

### その他

- stepci に 文字列パラメータの先頭が数値だと数値として認識されてしまうバグがあることを報告したい
